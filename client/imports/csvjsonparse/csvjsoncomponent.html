<div class="white r box-shadow-z0 m-b navbar-md" style="width: 125%;">
    <div class="navbar ng-scope" style="margin-left: 18px;">
        <a data-toggle="collapse" data-target="#navbar-0" class="navbar-item pull-left hidden-md-up">
        </a>
        <div class="navbar-item pull-left ng-binding"  id="pageTitle"><h3>Upload CSV File</h3></div>
        <ul class="nav navbar-nav pull-right m-l">
            <li class="nav-item dropdown">
            </li>      
        </ul>
    </div>
</div>
<!-- Page Content -->
<div id="page-content-wrapper">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <hr>
                <div style="text-align: center;">
                    <form>
                        <input type="file" id="files" name="files[]" style="display: inline;" accept=".csv" required />
                        <button type="submit" (click)="handleFiles($event)" class="md-btn md-raised m-b-sm w-xs indigo">upload</button>
                    </form> 
                </div>
                <br>
                <!--                <div *ngIf="messageshow" class = "alert alert-success">{{successmessage}}</div>-->
                <br>
                <table>
                    <tr>
                        <th>No</th>
                        <th>Transaction Id</th>
                        <th>Value date</th>
                        <th>ChequeNo</th>
                        <th>Description</th>
                        <th>Transaction Amount</th>
                        <th>Available Balance</th>
                        <th>Assign Cateogry</th>
                    </tr>
                    <tr *ngFor="let data of csvdata">
                        <td>{{data.No}}</td>
                        <td>{{data["Transaction_ID"]}}</td>
                        <td>{{data["Value_Date"]}}</td>
                        <td>{{data["ChequeNo"]}}</td>
                        <td>{{data["Description"]}}</td>
                        <td>{{data["Transaction_Amount(INR)"]}}</td>
                        <td>{{data["Available_Balance(INR)"]}}</td>
                        <td> <div class="dropdown">
                                <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
                                    Choose Cateogry
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <!--   **** option for new category ****-->
                                    <li>
                                        <a data-toggle="modal" href="#addcategory" style="color: blueviolet;">
                                            Add New Category
                                        </a> 
                                    </li>
                                    <hr style="margin: auto;">

                                    <!--   **** this part will show all the category ****-->
                                    <li *ngFor="let category of productcategory">
                                        <a (click)="addCategory(data._id,category.category)">{{category.category}}</a></li>

                                </ul>
                            </div>
                        </td>
                    </tr>
                </table>
                <!-- Modal -->
                <div class="modal fade " id="addcategory" role="dialog">
                    <div class="modal-dialog modal-sm">

                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">Close</button>
                                <h4 class="modal-title">Add New Category</h4>
                            </div>
                            <div class="modal-body">
                                <form [formGroup]="addForm" class="box">
                            <input type="text" placeholder="Enter here for new category" formControlName="category"
                                   class="form-control no-border no-bg box-shadow-z0" 
                                   style="display: inline;
                                   width: 99%;
                                   height: 37px;
                                   padding: 6px 0px 6px 8px;
                                   outline: none;
                                   outline-color: none;
                                   "/>
                            <br/>
                            <br/>
                            <button type="submit" data-dismiss="modal" (click)="addNewCategory()" class="btn btn-primary"> Add </button>
                        </form>   
                            </div>
                            <div class="modal-footer">
                            </div>
                        </div>
                    </div>                              
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /#page-content-wrapper -->




